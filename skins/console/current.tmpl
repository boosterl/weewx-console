[1m$station.location[0m
$current.dateTime

#set $observations_current = $to_list($DisplayOptions.get('observations_current', ['outTemp', 'barometer']))
#set $observations_stats = $to_list($DisplayOptions.get('observations_stats', ['outTemp', 'windSpeed', 'rain']))
#set $obs_type_sum = $to_list($DisplayOptions.get('obs_type_sum', ['rain']))
#set $obs_type_max = $to_list($DisplayOptions.get('obs_type_max', ['rainRate']))
## use this span to determine whether there are any data to consider.
#set $recent=$span($day_delta=30, boundary='midnight')
[1mCurrent Conditions[0m

#for $x in $observations_current
#if $getVar('year.%s.has_data' % $x)
#if $x == 'barometer'
[1m$obs.label.barometer[0m $current.barometer ($trend.barometer.formatted)
#elif $x == 'windSpeed'
[1m$obs.label.wind[0m $current.windSpeed $current.windDir.ordinal_compass ($current.windDir)
#elif $x == 'rain'
[1m$gettext("Rain Today")[0m $day.rain.sum
#elif $x == 'UV'
#if $current.UV.raw <= 2.4
[1m$obs.label.UV[0m [42m$current.UV[0m
#else if $current.UV.raw >= 2.5 and $current.UV.raw <= 5.4
[1m$obs.label.UV[0m [43m$current.UV[0m
#else if $current.UV.raw >= 5.5 and $current.UV.raw <= 7.4
[1m$obs.label.UV[0m [202m$current.UV[0m
#else if $current.UV.raw >= 7.5 and $current.UV.raw <= 10.4
[1m$obs.label.UV[0m [41m$current.UV[0m
#else if $current.UV.raw > 10.5
[1m$obs.label.UV[0m [45m$current.UV[0m
#end if
#else
[1m$obs.label[$x][0m $getVar('current.' + $x)
#end if
#end if
#end for

[1mStatistics[0m

#for $x in $observations_stats
#if getattr($recent, $x).has_data
#if $x == 'windSpeed'
[1m$gettext("Max Wind")[0m
$day.wind.max
$day.wind.gustdir
[1m$gettext("Average Wind")[0m $day.wind.avg
[1m$gettext("RMS Wind")[0m $day.wind.rms
[1m$gettext("Vector Average")[0m $day.wind.vecavg
[1m$gettext("Vector Direction")[0m $day.wind.vecdir
#elif $x in $obs_type_sum
[1m$obs.label[$x][0m $getVar('day.' + $x).sum
#elif $x in $obs_type_max
[1m$obs.label[$x][0m $getVar('day.' + $x).max
#else
[1m$obs.label[$x][0m [31mMax[0m $getVar('day.' + $x).max [34mMin[0m $getVar('day.' + $x).min
#end if
#end if
#end for
